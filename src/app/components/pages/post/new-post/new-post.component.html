
<p>
  <ngb-alert [dismissible]="false" *ngIf="loading2" [type]="'success'">
    <h4 style="text-align: center">Thêm mới bài viết thành công.</h4>
  </ngb-alert>
</p>
<div class="container-fluid">

  <div class="card o-hidden border-0 shadow-lg my-5">
    <div class="card-body p-0">
      <!-- Nested Row within Card Body -->
      <div class="row">
        <div class="col-lg-12">
          <div class="p-5">
            <div class="text-center">
              <h1 class="h4 text-gray-900 mb-4">Tạo mới bài đăng</h1>
            </div>
            <form class="user" [formGroup]="createPostForm" (ngSubmit)="savePost()">
              <div class="form-group row">
                <div class="col-sm-1 mb-3 mb-sm-0 pt-2">
                  <span>Thể loại </span>
                </div>
                <div class="col-sm-4 mb-3 mb-sm-0">
                  <select class="custom-select custom-select-sm"
                          formControlName="category">
                    <option *ngFor="let category of categories"
                            [value]="category.id">{{category.name}}</option>
                  </select>
                  <div class="alert alert-danger mt-1" role="alert"
                       *ngIf="createPostForm.get('category').invalid && createPostForm.get('category').touched">
                    Bạn chưa chọn danh mục! Hãy chọn danh mục chính xác để thuận tiện trong quá trình tìm kiếm!
                  </div>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-sm-1 mb-3 mb-sm-0 pt-2">
                  <span>Phạm vi</span>
                </div>
                <div class="col-sm-4 mb-3 mb-sm-0" (change)="openSelect($event)" id="des">
                  <select class="custom-select custom-select-sm"
                          formControlName="description">
                    <option value="Trong trường">Trong trường</option>
                    <option value="Mở rộng">Mở rộng</option>
                  </select>
                </div>
              </div>
              <div class="form-group row" id="truong" style="display: none">
                <div class="col-sm-1 mb-3 mb-sm-0 pt-2">
                  <span>Kỳ học</span>
                </div>
                <div class="col-sm-4 mb-3 mb-sm-0">
                  <select class="custom-select custom-select-sm"
                          formControlName="optional">
                    <option value="Kì 1">Kì 1 năm 1</option>
                    <option value="Kì 2">Kì 2 năm 1</option>
                    <option value="Kì 3">Kì 1 năm 2</option>
                    <option value="Kì 4">Kì 2 năm 2</option>
                    <option value="Kì 5">Kì 1 năm 3</option>
                    <option value="Kì 6">Kì 2 năm 3</option>
                    <option value="Kì 7">Kì 1 năm 4</option>
                    <option value="Kì 8">Kì 2 năm 4</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <input type="text" class="form-control form-control-user" id="exampleInputEmail"
                       placeholder="Tóm tắt" formControlName="content">
                <div class="alert alert-danger mt-1" role="alert"
                     *ngIf="createPostForm.get('content').invalid && createPostForm.get('content').touched">
                  Bạn chưa nhập tiêu đề! *VD: Bạn có thể nêu tóm tắt vấn đề bạn gặp phải, tên lỗi, tên framework.. để tiện cho quá trình tìm kiếm.
                </div>
              </div>
              <div class="form-group">
                <editor
                  apiKey="k9pc292uhtpgv34lb0sfldd12z1tp9sksyzskpoqejysd38a"
                  formControlName="detail"
                  [init]="tinymceinit"
                ></editor>
              </div>
<!--              <div class="input-group mb-3">-->
<!--                <div class="input-group-prepend">-->
<!--                  <span class="input-group-text">Upload</span>-->
<!--                </div>-->
<!--                <div class="custom-file">-->
<!--                  <input type="file" id="file"-->
<!--                         #userPhoto-->
<!--                         multiple-->
<!--                         (change)="showPreview($event)"-->
<!--                         name="image"-->
<!--                         autocomplete="off" class="custom-file-input" id="inputGroupFile01">-->
<!--                  <label class="custom-file-label" for="inputGroupFile01">Choose</label>-->
<!--                </div>-->

<!--              </div>-->
<!--              <div class="text-center">-->
<!--                <img *ngFor="let img of imgs" class="img-fluid px-3 px-sm-4 mt-3 mb-4" style="width: 15rem;"-->
<!--                     src="{{img}}"-->
<!--                     alt="">-->
<!--                <div class="row">-->
<!--                  <div *ngIf="loading" class="col-12 mt-5 mb-5">-->
<!--                    <div class="loading">-->
<!--                      <ngx-loading [show]="loading"-->
<!--                                   [config]="{animationType: ngxLoadingAnimationTypes.chasingDots, primaryColour: 'gray',secondaryColour:'black', backdropBorderRadius: '3px',backdropBackgroundColour: 'rgba(0,0,0,0)' }"-->
<!--                                   [template]="loadingTemplate"></ngx-loading>-->

<!--                    </div>-->
<!--                  </div>-->
<!--                </div>-->

<!--              </div>-->
              <input type="submit" class="btn btn-primary btn-user btn-block" value="Tạo">
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-12">
    <div class="loading">
      <ngx-loading [show]="loading1"
                   [config]="{animationType: ngxLoadingAnimationTypes.circleSwish, primaryColour: 'gray',  backdropBorderRadius: '3px',backdropBackgroundColour: 'rgba(0,0,0,0.3)', fullScreenBackdrop: true}"
                   [template]="loadingTemplate" style="padding-left: 300px;"></ngx-loading>

    </div>
  </div>
</div>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="../assets/vendor/jquery/jquery.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="../assets/vendor/jquery-easing/jquery.easing.min.js"></script>

<script src="../assets/js/sb-admin-2.min.js"></script>

<script src="../assets/vendor/chart.js/Chart.min.js"></script>
<script src="../assets/js/demo/chart-area-demo.js"></script>
<script src="../assets/js/demo/chart-pie-demo.js"></script>
